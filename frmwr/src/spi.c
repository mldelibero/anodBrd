/*
	File:          spi.c
	Author:        Michael DeLibero
	Date Created:  11-4-11
	Last Modified: 11-9	-11 - Michael DeLibero
	
	Description: 	This file contains the spi functions for the anod v3 proj
					
	References: 	
	
*/
//-----------------------------------------------------------------------------
#include <avr/io.h>
#include "spi.h"
#include "spi_driver.h"
//-----------------------------------------------------------------------------
//file scope defines
//-----------------------------------------------------------------------------

//-----------------------------------------------------------------------------
//file scope variables
//-----------------------------------------------------------------------------
//-----------------------------------------------------------------------------
// file defined, global scope variables
//-----------------------------------------------------------------------------
SPI_Master_t spiMasterC; // Set up SPI on port C as master for DACs.
//-----------------------------------------------------------------------------
// variable externs
//-----------------------------------------------------------------------------

//-----------------------------------------------------------------------------
// function pointer externs
//-----------------------------------------------------------------------------

//-----------------------------------------------------------------------------
// functions
//-----------------------------------------------------------------------------
void spi_init(void) {
    // Initialize SPI master on port C.
	SPI_MasterInit(&spiMasterC, &SPIC, &PORTC, false, SPI_MODE_0_gc, \
	               SPI_INTLVL_HI_gc, false, SPI_PRESCALER_DIV4_gc);
}
//-----------------------------------------------------------------------------
// ISRs
//-----------------------------------------------------------------------------
/*
ISR(SPIC_INT_vect)
{
	SPI_MasterInterruptHandler(&spiMasterC);
}
*/
//-----------------------------------------------------------------------------
// eof
